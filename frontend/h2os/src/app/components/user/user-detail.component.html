<div class="data">
    <main class="container container-main">
        <h2>{{user.name}} {{user.surname}}</h2>
        <div class="row">
            <div *ngIf="user && typeUser==='lifeguard'" class="col-md-4">
                <img *ngIf="image"  id="img-user" [src]="imageUser" >
                <img *ngIf="!image" id="img-user" src="/assets/images/noPhotoUser.jpg">
            </div>

            <div *ngIf="user && typeUser==='employer'" class="col-md-4">
                <img *ngIf="image"  id="img-user" [src]="imageUser" >
                <img *ngIf="!image" id="img-user" src="/assets/images/noPhotoUser.jpg">
            </div>

            <div class="col-md-8">
                <p><strong>E-Mail:</strong> {{user.mail}}</p>
                <p><strong>DNI:</strong> {{user.dni}}</p>
                <p><strong>Edad:</strong> {{user.age}}</p>
                <p><strong>Teléfono:</strong> {{user.phone}}</p>
                <p><strong>Dirección:</strong> {{user.direction}}</p>
                <p><strong>Localidad:</strong> {{user.locality}} ({{user.province}}, {{user.country}})</p>

                <p *ngIf="typeUser==='lifeguard'"><strong>Título de socorrismo</strong> {{lifeguard.document}}</p>
                <p *ngIf="typeUser==='employer'"><strong>Empresa:</strong> {{employer.company}}</p>

                <p><strong>Descripción:</strong> {{user.description}}</p>
            </div>
        </div>

        <div *ngIf="typeUser==='lifeguard'" class="subcontainer">
            <h3>Aptitudes</h3>
            <ul>
                <ng-container *ngFor="let skill of lifeguard.skills">
                    <li>{{skill}}</li>
                </ng-container>
                <li *ngIf="!lifeguard.skills">No hay aptitudes</li>
            </ul>
        </div>

        <div class="btn-cont">
            <ng-container *ngIf="!otherUser || admin">
                <a [routerLink]="editUser" class="btn" role="button"><i class="bi bi-pencil"></i> Editar</a>
                <button *ngIf="!otherUser" (click)="logout()" class="btn btn-red">Cerrar sesión</button>
            </ng-container>
            <a [routerLink]="['/']" class="btn" role="button"><i class="bi bi-box-arrow-left"></i> Volver</a>
        </div>

        <div *ngIf="admin" class="btn-cont">
            <button *ngIf="typeUser==='lifeguard'" (click)="deleteLifeguard()" class="btn btn-red ">
                <i class="bi bi-trash"></i>
            </button>
            <button *ngIf="typeUser==='employer'" (click)="deleteEmployer()" class="btn btn-red ">
                <i class="bi bi-trash"></i>
            </button>
        </div>
    </main>

    <div class="container container-additional">
        <h3 *ngIf="lifeguard">Ofertas aplicadas</h3>
        <h3 *ngIf="employer">Ofertas publicadas</h3>

        <div *ngIf="lifeguard && otherUser; else offers_cont">
            <p style="text-align: center;">No puedes ver las candidaturas de otro usuario</p>
        </div>
        <ng-template #offers_cont>
            <div *ngFor="let offer of offers" class="subcontainer">
                <p>
                    <a [routerLink]="'/offers/' + offer.id">{{offer.poolName}}</a> ({{offer.salary}}€) <br>
                    <span>Tipo</span>: {{offer.type}} <br>
                    <span>Inicio</span>: {{offer.start}}
                </p>
            </div>
            <div *ngIf="offers?.length === 0" class="subcontainer">
                <p>No hay ofertas</p>
            </div>
        </ng-template>
    </div>
</div>