<div class="data">
    <main class="container container-main">
        <!--<ng-container *ngIf="user">-->
            <h2>{{user.name}} {{user.surname}}</h2>
            <div class="row">
                <ng-container *ngIf="user && typeUser==='lifeguard'">
                    <div class="col-md-4">
                        <!--<img id="img-user" [src]="lifeguard.imageUser ? '/api/lifeguards' + lifeguard.id + '/photoUser' : '/assets/images/noPhotoUser.jpg'" style="max-width: 100%; height: auto;" />-->
                        <img *ngIf="image"  [src]="imageUser" style="max-width: 100%; height: auto;" >
                        <img *ngIf="!image" src="/assets/images/noPhotoUser.jpg" style="max-width: 100%; height: auto;">
                    </div>
                </ng-container>

                <ng-container *ngIf="user && typeUser==='employer'">
                    <div class="col-md-4">
                        <img id="img-user" [src]="employer.imageCompany ? '/api/employers' + employer.id + '/photoCompany' : '/assets/images/noPhotoUser.jpg'" style="max-width: 100%; height: auto;" />
                    </div>
                </ng-container>

                <div class="col-md-8">
                    <p><strong>E-Mail:</strong> {{user.mail}}</p>
                    <p><strong>DNI:</strong> {{user.dni}}</p>
                    <p><strong>Edad:</strong> {{user.age}}</p>
                    <p><strong>Teléfono:</strong> {{user.phone}}</p>
                    <p><strong>Dirección:</strong> {{user.direction}}</p>
                    <p><strong>Localidad:</strong> {{user.locality}} ({{user.province}}, {{user.country}})</p>

                    <ng-container *ngIf="typeUser==='lifeguard'">
                        <p><strong>Título de socorrismo</strong> {{lifeguard.document}}</p>
                    </ng-container>
                    <ng-container *ngIf="typeUser==='employer'">
                        <p><strong>Empresa:</strong> {{employer.company}}</p>
                    </ng-container>

                    <p><strong>Descripción:</strong> {{user.description}}</p>

                </div>
                <ng-container *ngIf="typeUser==='lifeguard'">
                    <div class="subcontainer">
                        <h3>Aptitudes</h3>
                        <ul>
                            <ng-container *ngFor="let skill of lifeguard.skills">
                                <li>{{skill}}</li>
                            </ng-container>
                            <li *ngIf="!lifeguard.skills">No hay aptitudes</li>
                        </ul>
                    </div>
                </ng-container>
            </div>
            <div class="btn-cont">
                <ng-container *ngIf="!otherUser || admin">
                        <a [routerLink]="editUser" class="btn" role="button"><i class="bi bi-pencil"></i> Editar</a>
                    <ng-container *ngIf="!otherUser">
                        <input type="submit" (click)="logout()" class="btn btn-red" value="Cerrar sesión" />
                    </ng-container>
                </ng-container>
                <a href="javascript:history.back()" class="btn" role="button"><i class="bi bi-box-arrow-left"></i> Volver</a>
            </div>

            <ng-container *ngIf="admin">
                    <div class="btn-cont">
                        <ng-container *ngIf="typeUser==='lifeguard'">
                            <button type="submit" (click)="deleteLifeguard()" class="btn btn-red "><i class="bi bi-trash"></i></button>
                        </ng-container>
                        <ng-container *ngIf="typeUser==='employer'">
                            <button type="submit" (click)="deleteEmployer()" class="btn btn-red "><i class="bi bi-trash"></i></button>
                        </ng-container>
                    </div>
            </ng-container>
        <!--</ng-container>-->
    </main>
    <ng-container *ngIf="user && typeUser==='lifeguard'">
        <div class="container container-additional">
            <h3>Ofertas aplicadas</h3>
            <div class="subcontainer">
                <ul>
                    <ng-container *ngFor="let offer of lifeguard.offers">
                        <li><a [routerLink]="'/offers/' + offer.id">Piscina: {{offer.pool?.name}} - Salario: {{offer.salary}} - Inicio: {{offer.start}}</a></li>
                    </ng-container>
                    <li *ngIf="!lifeguard.offers">No hay candidaturas</li>
                </ul>
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf="user && typeUser==='employer'">
        <div class="container container-additional">
            <h3>Ofertas publicadas</h3>
            <div class="subcontainer">
                <ul>
                    <ng-container *ngFor="let offer of employer.offers">
                        <li><a [routerLink]="'/offers/' + offer.id">Piscina: {{offer.pool?.name}} - Salario: {{offer.salary}} - Inicio: {{offer.start}}</a></li>
                    </ng-container>
                    <li *ngIf="!employer.offers">No has creado ninguna oferta</li>
                </ul>
            </div>
        </div>
    </ng-container>
</div>